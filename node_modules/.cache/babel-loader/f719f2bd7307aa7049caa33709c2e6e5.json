{"remainingRequest":"/Users/caophuc/vue-app/node_modules/babel-loader/lib/index.js!/Users/caophuc/vue-app/node_modules/eslint-loader/index.js??ref--13-0!/Users/caophuc/vue-app/src/axios.js","dependencies":[{"path":"/Users/caophuc/vue-app/src/axios.js","mtime":1602310875857},{"path":"/Users/caophuc/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caophuc/vue-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/caophuc/vue-app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiQC9yb3V0ZXIiOwppbXBvcnQgeyByZW1vdmVBY2Nlc3N0b2tlbiB9IGZyb20gIkAvdXRpbHMiOwp2YXIgQXhpb3MgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6ICJodHRwczovL2FwaS5zcG90aWZ5LmNvbS92MS8iCn0pOwpBeGlvcy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGRlZmF1bHRDb25maWcpIHsKICB2YXIgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWNjZXNzLXRva2VuIik7CiAgZGVmYXVsdENvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSAiQmVhcmVyICIuY29uY2F0KHRva2VuKTsKICByZXR1cm4gZGVmYXVsdENvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CkF4aW9zLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgcmV0dXJuIHJlc3BvbnNlOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICB2YXIgcmVzcG9uc2UgPSBlcnJvciA9PT0gbnVsbCB8fCBlcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXJyb3IucmVzcG9uc2U7CgogIGlmIChyZXNwb25zZSAmJiAocmVzcG9uc2UgPT09IG51bGwgfHwgcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbnNlLnN0YXR1cykgPT09IDQwMSkgewogICAgcmVtb3ZlQWNjZXNzdG9rZW4oKTsKICAgIHJvdXRlci5wdXNoKCJMb2dpbiIpOwogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcigiVW5hdXRob3JpemVkIikpOwogIH0KCiAgaWYgKHJlc3BvbnNlICYmIChyZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uc2Uuc3RhdHVzKSkgewogICAgcmV0dXJuIHJlc3BvbnNlOwogIH0KCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCBkZWZhdWx0IEF4aW9zOw=="},{"version":3,"sources":["/Users/caophuc/vue-app/src/axios.js"],"names":["axios","router","removeAccesstoken","Axios","create","baseURL","interceptors","request","use","defaultConfig","token","localStorage","getItem","headers","Authorization","error","Promise","reject","response","status","push","Error"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,iBAAT,QAAkC,SAAlC;AAEA,IAAMC,KAAK,GAAGH,KAAK,CAACI,MAAN,CAAa;AACzBC,EAAAA,OAAO,EAAE;AADgB,CAAb,CAAd;AAIAF,KAAK,CAACG,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CACE,UAACC,aAAD,EAAmB;AACjB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAd;AAEAH,EAAAA,aAAa,CAACI,OAAd,CAAsBC,aAAtB,oBAAgDJ,KAAhD;AAEA,SAAOD,aAAP;AACD,CAPH,EAQE,UAACM,KAAD;AAAA,SAAWC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAX;AAAA,CARF;AAWAZ,KAAK,CAACG,YAAN,CAAmBY,QAAnB,CAA4BV,GAA5B,CACE,UAACU,QAAD;AAAA,SAAcA,QAAd;AAAA,CADF,EAEE,UAACH,KAAD,EAAW;AACT,MAAMG,QAAQ,GAAGH,KAAH,aAAGA,KAAH,uBAAGA,KAAK,CAAEG,QAAxB;;AAEA,MAAIA,QAAQ,IAAI,CAAAA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEC,MAAV,MAAqB,GAArC,EAA0C;AACxCjB,IAAAA,iBAAiB;AACjBD,IAAAA,MAAM,CAACmB,IAAP,CAAY,OAAZ;AAEA,WAAOJ,OAAO,CAACC,MAAR,CAAe,IAAII,KAAJ,CAAU,cAAV,CAAf,CAAP;AACD;;AAED,MAAIH,QAAQ,KAAIA,QAAJ,aAAIA,QAAJ,uBAAIA,QAAQ,CAAEC,MAAd,CAAZ,EAAkC;AAChC,WAAOD,QAAP;AACD;;AAED,SAAOF,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAjBH;AAoBA,eAAeZ,KAAf","sourcesContent":["import axios from \"axios\";\nimport router from \"@/router\";\nimport { removeAccesstoken } from \"@/utils\";\n\nconst Axios = axios.create({\n  baseURL: \"https://api.spotify.com/v1/\",\n});\n\nAxios.interceptors.request.use(\n  (defaultConfig) => {\n    const token = localStorage.getItem(\"access-token\");\n\n    defaultConfig.headers.Authorization = `Bearer ${token}`;\n\n    return defaultConfig;\n  },\n  (error) => Promise.reject(error)\n);\n\nAxios.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    const response = error?.response;\n\n    if (response && response?.status === 401) {\n      removeAccesstoken();\n      router.push(\"Login\");\n\n      return Promise.reject(new Error(\"Unauthorized\"));\n    }\n\n    if (response && response?.status) {\n      return response;\n    }\n\n    return Promise.reject(error);\n  }\n);\n\nexport default Axios;\n"]}]}