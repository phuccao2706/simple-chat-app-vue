{"remainingRequest":"/Users/caophuc/vue-app/node_modules/babel-loader/lib/index.js!/Users/caophuc/vue-app/node_modules/eslint-loader/index.js??ref--13-0!/Users/caophuc/vue-app/src/axios.js","dependencies":[{"path":"/Users/caophuc/vue-app/src/axios.js","mtime":1601175813097},{"path":"/Users/caophuc/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caophuc/vue-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/caophuc/vue-app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CnZhciBBeGlvcyA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogImh0dHBzOi8vYXBpLnNwb3RpZnkuY29tL3YxLyIKfSk7CkF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoZGVmYXVsdENvbmZpZykgewogIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhY2Nlc3MtdG9rZW4iKTsKICBkZWZhdWx0Q29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICJCZWFyZXIgIi5jb25jYXQodG9rZW4pOwogIHJldHVybiBkZWZhdWx0Q29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKQXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICByZXR1cm4gcmVzcG9uc2U7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICB2YXIgcmVzcG9uc2UgPSBlcnJvciA9PT0gbnVsbCB8fCBlcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXJyb3IucmVzcG9uc2U7CgogIGlmIChyZXNwb25zZSAmJiAocmVzcG9uc2UgPT09IG51bGwgfHwgcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbnNlLnN0YXR1cykgPT09IDQwMSkgewogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcigiVW5hdXRob3JpemVkIikpOwogIH0KCiAgaWYgKHJlc3BvbnNlICYmIChyZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uc2Uuc3RhdHVzKSkgewogICAgcmV0dXJuIHJlc3BvbnNlOwogIH0KCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCBkZWZhdWx0IEF4aW9zOw=="},{"version":3,"sources":["/Users/caophuc/vue-app/src/axios.js"],"names":["axios","Axios","create","baseURL","interceptors","request","use","defaultConfig","token","localStorage","getItem","headers","Authorization","error","Promise","reject","response","console","log","status","Error"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAa;AACzBC,EAAAA,OAAO,EAAE;AADgB,CAAb,CAAd;AAIAF,KAAK,CAACG,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CACE,UAACC,aAAD,EAAmB;AACjB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAd;AAEAH,EAAAA,aAAa,CAACI,OAAd,CAAsBC,aAAtB,oBAAgDJ,KAAhD;AAEA,SAAOD,aAAP;AACD,CAPH,EAQE,UAACM,KAAD;AAAA,SAAWC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAX;AAAA,CARF;AAWAZ,KAAK,CAACG,YAAN,CAAmBY,QAAnB,CAA4BV,GAA5B,CACE,UAACU,QAAD;AAAA,SAAcA,QAAd;AAAA,CADF,EAEE,UAACH,KAAD,EAAW;AACTI,EAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,MAAMA,QAAQ,GAAGH,KAAH,aAAGA,KAAH,uBAAGA,KAAK,CAAEG,QAAxB;;AAEA,MAAIA,QAAQ,IAAI,CAAAA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEG,MAAV,MAAqB,GAArC,EAA0C;AACxC,WAAOL,OAAO,CAACC,MAAR,CAAe,IAAIK,KAAJ,CAAU,cAAV,CAAf,CAAP;AACD;;AAED,MAAIJ,QAAQ,KAAIA,QAAJ,aAAIA,QAAJ,uBAAIA,QAAQ,CAAEG,MAAd,CAAZ,EAAkC;AAChC,WAAOH,QAAP;AACD;;AAED,SAAOF,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAfH;AAkBA,eAAeZ,KAAf","sourcesContent":["import axios from \"axios\";\n\nconst Axios = axios.create({\n  baseURL: \"https://api.spotify.com/v1/\",\n});\n\nAxios.interceptors.request.use(\n  (defaultConfig) => {\n    const token = localStorage.getItem(\"access-token\");\n\n    defaultConfig.headers.Authorization = `Bearer ${token}`;\n\n    return defaultConfig;\n  },\n  (error) => Promise.reject(error)\n);\n\nAxios.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    console.log(response);\n    const response = error?.response;\n\n    if (response && response?.status === 401) {\n      return Promise.reject(new Error(\"Unauthorized\"));\n    }\n\n    if (response && response?.status) {\n      return response;\n    }\n\n    return Promise.reject(error);\n  }\n);\n\nexport default Axios;\n"]}]}